# Fabric

## One

Peer节点; Committer记账节点; Client（客户端）; Fabric-CA客户端; Fabric客户端; 交易处理流程; Gossip消息协议; 组织（Organization）与联盟（Consortium）; 链码（Chaincode）; CSCC; ESCC; 账本（Ledger）

### 简单

1. 下面关于peer节点说法错误的是：D
    A.peer节点是区块链网络的基本元素
    B.peer节点储存了账本和智能合约
    C.一个peer节点可以维护多个账本
    D.一个peer节点只能维护一个智能合约

> 解析：一个peer节点可以同时维护多个账本和智能合约

2. 下面哪种节点是区块链网络中可以没有的：C
    A.提交节点
    B.背书节点
    C.锚节点
    D.主节点

> 解析：在实际情况中只有锚节点是可选的，一般都会有一个主节点，至少一个背书节点和一个提交节点。提交节点：通道中的每个 Peer 节点都是一个提交节点。他们会接收生成的区块，在这些区块被验证之后会以附加的方式提交到 Peer 节点的账本副本中。背书节点：每个安装了智能合约的 Peer 节点都可以作为一个背书节点。主节点：当组织在通道中具有多个 Peer 节点的时候，会有一个主节点，它负责将交易从排序节点分发到该组织中其他的提节点。锚节点：如果一个 Peer 节点需要同另一个组织的 Peer 节点通信的话，它可以使用对方组织通道配置中定义的锚节点；一个组织可以拥有 0 个或者多个锚节点，并且一个锚节点能够帮助很多不同的跨组织间的通信。

3. 下面关于联盟的说法正确的是：B
    A.一个联盟包含的组织数量是有限制的
    B.通道是一个联盟中的成员彼此进行通信的主要机制
    C.通道为联盟提供了一个公有的通信机制
    D.一个区块链网络中联盟的数量是有限制的

> 解析：一个联盟可以包含任意数量的组织，所以A项错误；通道为联盟提供了一个私有的通信机制，所以B项错误；一个区块链网络中联盟的数量没有限制，所以D项错误；通道是一个联盟中的成员彼此进行通信的主要机制，B项正确。

4. 下面关于智能合约说法错误的是：D
    A.智能合约用可执行的代码定义了不同组织之间的规则
    B.应用程序调用智能合约来生成被记录到账本上的交易
    C.通常来说，智能合约定义的是控制世界状态中业务对象生命周期的交易逻辑
    D.智能合约可以用任意编程语言开发

> 解析：Fabric 是第一个支持通用编程语言编写智能合约（如 Java、Go 和 Node.js）的分布式账本平台，不受限于特定领域语言（Domain-Specific Languages，DSL），但是目前还不支持任意编程语言。其他选项都是智能合约的特性。

5. 下面哪项不是Hyperledger Fabric使用策略的理由：A
    A.策略可以让 Hyperledger Fabric 成为非许可区块链
    B.因为 Fabric 是授权区块链，用户由底层基础设施识别，所以用户可以在启动前决定网络的治理方式，以及改变正在运行的网络的治理方式
    C.策略决定了那些组织可以访问或者更新 Fabric 网络，并且提供了强制执行这些决策的机制
    D.策略能够评估交易和提案中的签名，并验证签名是否满足网络治理规则

> 解析：Hyperledger Fabric是许可区块链，接入Hyperledger Fabric区块链的用户都需要经过身份认证。

### 普通

1. 下面关于排序服务说法错误的是：A
    A.排序服务是一个中心化的组件
    B.一个排序服务可以包含很多单独的由不同组织所有的节点
    C.排序节点使交易有序
    D.除了排序角色之外，排序节点还维护着允许创建通道的组织列表

> 解析：排序服务看起来像是一个中心化的组件，它最初被用来创建网络，然后连接到了网络中的每个通道，事实上，排序服务本身可以是完全去中心化的。跟作为网络的管理点一样，排序服务同样提供了另外一个关键的设施 —— 交易的分发点。排序服务是一个从应用程序搜集背书过的交易的组件，然后它会把这些交易进行排序并放进区块中，这些区块会被分发到通道中的每个 Peer 节点。在每个这样的提交节点中，交易不管是有效的还是无效的都会被记录下来，并且他们本地账本副本也会更新。

2. 下面关于组织说法错误的是：C
    A.组织被定义在网络配置中
    B.一个新的组织想要加入一个通道或者一些已经存在的组织想要增加或减少他们的权限
    C.由CA颁发的证书不能用来为交易提供签名，来表明一个组织对交易的结果进行背书
    D.在大多数的额情况下，多个组织会聚集到一起作为一个联盟来形成一个网络
    
> 解析：证书颁发机构用来给管理者和网络节点颁发证书，在网络中扮演着重要的角色，它会分配X.509证书，这个证书能够用来识别属于组织的组件。由CA颁发的证书也可以用来为交易提供签名，来表明一个组织对交易的结果进行背书，背书是一笔交易可以被接受并记录到账本上的前提条件。

3. 下面关于账本描述错误的是：B
    A.Hyperledger Fabric中的账本由“世界状态“和”区块链“这两部分组成
    B.区块链数据结构与世界状态的数据结构是类似的
    C.世界状态是一个数据库，它存储了一组账本状态的当前值
    D.默认情况下，账本状态是以键值对的方式来表示的

> 解析：区块链数据结构与世界状态相差甚远，因为一旦把数据写入区块链，就无法修改，它是不可篡改的。

4. 下面关于世界状态说法错误的是：D
    A.世界状态将业务对象属性的当前值保存为唯一的账本状态
    B.账本世界状态记录了一组与特定业务对象有关的事实
    C.只有那些受到相关背书组织签名的交易才会更新世界状态
    D.首次创建账本时，世界状态不是空的

> 解析：首次创建账本时，世界状态是空的。因为区块链上记录了所有代表有效世界状态更新的交易，所以任何时候都可以从区块链中重新生成世界状态。这样一来就变得非常方便，例如，创建节点时会自动生成世界状态。此外，如果某个节点发生异常，重启该节点时能够在接受交易之前重新生成世界状态。

5. 下面关于账本中区块链部分说法错误的是：B
    A.区块链是一种历史记录
    B.经过所有的组织同意，可以修改历史区块
    C.区块链的结构是一群相互链接的区块的序列化日志
    D.每个区块的头部都包含区块交易的一个哈希，以及前一个区块头的哈希

> 解析：虽然与业务对象当前状态相关的事实可能会发生改变，但是与之相关的事实历史是不可变的，可以在事实历史上增加新的事实，但无法更改历史中已经存在的事实。如果把区块链看作是与业务对象有关的事实历史，且该历史是不可更改的，那么就能够很轻松、高效地理解区块链。

### 困难

1. 下面哪项是区块链网络交易流程的正确顺序：C
    A.提案、验证、排序、打包、提交
    B.打包、提案、排序、验证、提交
    C.提案、排序、打包、验证、提交
    D.打包、验证、提交、排序、提交

> 解析：区块链网络的交易流程分为三个阶段：提交、排序并打包、验证和提交。

2. 下面关于交易流程说法错误的是：A
    A.客户端应用程序可以自己生成账本更新提案
    B.已背书的交易提案在第二阶段经过排序生成区块
    C.已背书的交易提案在第三阶段分发给所有节点进行最终验证和提交
    D.排序服务创建交易区块，这些交易区块最终将分发给通道上的所有Peer节点

> 解析：在第一阶段，客户端应用程序将交易提案发送给一组节点，这些节点将调用智能合约来生成一个账本更新提案，然后背书该结果。客户端应用程序不能自己生成账本更新提案，故A项错误。

3. 下面关于排序服务说法错误的是：C
    A.排序服务节点同时接收来自许多不同应用程序客户端的交易
    B.排序服务的工作是将提交的交易按定义好的顺序安排成批次，并将它们打包成区块
    C.一个区块中交易的顺序与排序服务接收的顺序相同
    D.在Hyperledger Fabric中，由排序服务生成的区块是最终的

> 解析：一个区块中交易的顺序不一定与排序服务接收的顺序相同，因为可能有多个排序服务节点几乎同时接收交易。故C项错误。

4. 下面关于Gossip协议说法错误的是：D
    A.Peer节点通过gossip协议来传播账本和通道数据
    B.Gossip消息是持续的，通道中的每一个Peer节点不断地从多个节点接收当前一致的账本数据
    C.每一个Gossip消息都是带有签名的，因此拜占庭成员发送的伪造消息很容易就会被识别，并且非目标节点也不会接受与其无关的消息
    D.Gossip协议中，延迟、网络分区等其他影响不会丢失区块

> 解析：Peer 节点会受到延迟、网络分区或者其他原因影响而丢失区块，这时节点会通过从其他拥有这些丢失区块的节点处同步账本。故D项错误。

5. 下面关于主节点选举说法错误的是：B
    A.主节点的选举机制用于在每一个组织中选举出一个用于链接排序服务和开始分发新区块的节点
    B.在网络比较差有多个网络分区存在的情况下，组织中只会存在一个主节点保证网络稳定运行
    C.静态主节点选举允许你手动设置组织中的一个或多个节点节点为主节点
    D.动态选举出的主节点通过向其他节点发送心跳信息来证明自己处于存活状态

> 解析：在网络比较差有多个网络分区存在的情况下，组织中会存在多个主节点以保证组织中节点的正常工作。在网络恢复正常之后，其中一个主节点会放弃领导权。在一个没有网络分区的稳定状态下，会只有唯一一个活动的主节点和排序服务相连。故B项错误。

## Two

Endorser背书节点; 共识（Consensus）; 交易（Transaction）和区块（Block）; LSCC; QSCC; VSCC; 策略管理（Policy）

### 简单

1. 下面哪一项不是区块的组成部分：C
    A.区块头
    B.区块数据
    C.区块尾
    D.区块元数据

> 解析：区块由三个部分组成：区块头、区块数据、区块元数据。区块头包含三个字段：区块编号、当前区块的哈希值、前一个区块头的哈希值；区块数据包含了一个有序的交易列表。区块数据是在排序服务创建区块时被写入的；区块元数据包含了区块被写入的时间，还有区块写入者的证书、公钥以及签名；

2. 下面关于策略说法错误的是：A
    A.策略在网络最初配置的时候由联盟成员一致同意，策略确定后就不可修改
    B.从根本上来说，策略是一组规则，用来定义如何做出决策和实现特定结果
    C.策略一般描述了谁和什么，比如一个人对资产访问或者权限
    D.在 Hyperledger Fabric 中，策略是基础设施的管理机制

> 解析：策略在网络最初配置的时候由联盟成员一致同意，但是在网络演化的过程中可以进行修改。例如，他们定义了从通道中添加或者删除成员的标准，改变区块格式或者指定需要给智能合约背书的组织数量。故A项错误

3. 下面关于Hyperledger Fabric共识机制说法错误的是：B
    A.Hyperledger Fabric被设计为允许网络启动者选择最能代表参与者间存在的关系的共识机制
    B.Hyperledger Fabric提供多种可插拔选项，共识机制可以交换替换，但不支持不同的MSP
    C.保持账本在整个网络中同步的过程称为共识
    D.共识确保账本仅在交易被相应参与者批准时更新，并且当账本更新时，它们以相同的顺序更新相同的交易

> 解析：Hyperledger Fabric提供多种可插拔选项。账本数据可以以多种格式存储，共识机制可以交换替换，并且支持不同的MSP。故B项错误。

4. 下面关于应用程序和peer节点交互说法错误的是：C
    A.查询账本的操作涉及到应用程序和peer节点之间的一个简单的三步对话
    B.更新账本的操作会涉及到更多的步骤，需要额外的两步
    C.当应用程序需要访问账本和链码的时候，可以不连接到peer节点
    D.应用程序能够连接到一个或者多个peer节点来执行一个查询

> 解析：当应用程序需要访问账本和链码的时候，总是需要连接到peer节点。故B项错误。

5. 下面关于peer节点和通道说法错误的是：D
    A.概念上来说，可以把通道想象为类似于一个由朋友组成的群组一样
    B.通道允许区块链网络中特定的一些peer节点以及应用程序来彼此交互
    C.通道和peer节点是以不同的方式存在的，将通道理解为由物理的peer节点的组成的逻辑结构更合适一些
    D.因为通道提供了对peer节点访问和管理的控制

> 解释：peer节点提供了对通道访问和管理的控制。故D项错误。

### 普通

### 困难

1. 下面关于背书策略说法错误的是：D
    A.每个链码都有一个背书策略与之相关联
    B.背书策略非常重要，它指明了区块链网络中哪些组织必须对一个给定的智能合约所生成的交易进行签名，以此来宣布该交易有效。
    C.背书策略是Hyperledger Fabric与以太坊或比特币等其他区块链的区别所在
    D.只有经过背书的有效交易会被添加到分布式账本中，并更新世界状态。

> 解析：所有的交易，无论是有效的还是无效的，都会被添加到分布式账本中，但只有有效交易会更新世界状态。故D项错误

2. 下面关于有效交易说法错误的是：C
    A.智能合约提取一组名为交易提案的输入参数，并将其与程序逻辑结合起来使用以读写账本
    B.一项交易被分发给网络中的所有节点，各节点通过两个阶段对其进行验证
    C.验证交易的第一步是检查交易在受到背书节点签名时它的交易读集与世界状态的当前值匹配，并且中间过程中没有被更新
    D.背书策略会检查交易，确保该交易已被足够的组织签署

> 解析：一项交易被分发给网络中的所有节点，各节点通过两个阶段对其进行验证。首先，根据背书策略检查交易，确保该交易已被足够的组织签署。其次，继续检查交易，以确保当该交易在受到背书节点签名时它的交易读集与世界状态的当前值匹配，并且中间过程中没有被更新。C选项中的验证是第二步，故是错误的。


## Three

Committer记账节点; Orderer排序节点; 交易处理流程; Gossip消息协议; 共识（Consensus）; 成员关系服务提供者（MSP）; 组织（Organization）与联盟（Consortium）; 交易（Transaction）和区块（Block）; 链码（Chaincode）; CSCC; ESCC; LSCC; QSCC; VSCC; 策略管理（Policy）

### 简单

### 普通

### 困难